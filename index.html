<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="ADD Companion">
  <meta name="theme-color" content="#1f2937">
  <title>ADD Companion</title>
  
  <!-- Favicon - cute brain SVG -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%238b5cf6'/%3E%3Cstop offset='100%25' style='stop-color:%236366f1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' rx='22' fill='url(%23bg)'/%3E%3Cg transform='translate(50,52)' fill='none' stroke='white' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M-8-20c-11 0-20 8-20 18s5 15 10 18c2 1 3 3 3 5v4h10M8-20c11 0 20 8 20 18s-5 15-10 18c-2 1-3 3-3 5v4h-10' opacity='0.9'/%3E%3Cpath d='M-15 25h30' opacity='0.7'/%3E%3Cpath d='M-12 32h24' opacity='0.5'/%3E%3Ccircle cx='-12' cy='-8' r='3' fill='white' opacity='0.6'/%3E%3Ccircle cx='10' cy='-12' r='2.5' fill='white' opacity='0.5'/%3E%3Ccircle cx='0' cy='-18' r='2' fill='white' opacity='0.4'/%3E%3C/g%3E%3C/svg%3E">
  
  <!-- Apple Touch Icon - base64 PNG (generated from same design) -->
  <link rel="apple-touch-icon" href="data:image/png;base64,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">
  
  <link rel="manifest" href="data:application/json,{&quot;name&quot;:&quot;ADD Companion&quot;,&quot;short_name&quot;:&quot;ADD&quot;,&quot;start_url&quot;:&quot;.&quot;,&quot;display&quot;:&quot;standalone&quot;,&quot;background_color&quot;:&quot;%23f9fafb&quot;,&quot;theme_color&quot;:&quot;%231f2937&quot;,&quot;icons&quot;:[{&quot;src&quot;:&quot;data:image/svg+xml,%253Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%253E%253Cdefs%253E%253ClinearGradient id='bg' x1='0%2525' y1='0%2525' x2='100%2525' y2='100%2525'%253E%253Cstop offset='0%2525' style='stop-color:%25238b5cf6'/%253E%253Cstop offset='100%2525' style='stop-color:%25236366f1'/%253E%253C/linearGradient%253E%253C/defs%253E%253Crect width='100' height='100' rx='22' fill='url(%2523bg)'/%253E%253Cg transform='translate(50,52)' fill='none' stroke='white' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%253E%253Cpath d='M-8-20c-11 0-20 8-20 18s5 15 10 18c2 1 3 3 3 5v4h10M8-20c11 0 20 8 20 18s-5 15-10 18c-2 1-3 3-3 5v4h-10' opacity='0.9'/%253E%253Cpath d='M-15 25h30' opacity='0.7'/%253E%253Cpath d='M-12 32h24' opacity='0.5'/%253E%253Ccircle cx='-12' cy='-8' r='3' fill='white' opacity='0.6'/%253E%253Ccircle cx='10' cy='-12' r='2.5' fill='white' opacity='0.5'/%253E%253Ccircle cx='0' cy='-18' r='2' fill='white' opacity='0.4'/%253E%253C/g%253E%253C/svg%253E&quot;,&quot;sizes&quot;:&quot;any&quot;,&quot;type&quot;:&quot;image/svg+xml&quot;}]}">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f9fafb;
      min-height: 100vh;
      min-height: 100dvh;
      color: #1f2937;
      line-height: 1.5;
    }
    
    .container { max-width: 500px; margin: 0 auto; padding-bottom: 2rem; }
    
    /* Header */
    .header {
      position: sticky;
      top: 0;
      background: white;
      border-bottom: 1px solid #e5e7eb;
      z-index: 10;
    }
    
    .header-inner {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 1.25rem;
    }
    
    .back-btn {
      background: none;
      border: none;
      padding: 0.5rem;
      margin-left: -0.5rem;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .back-btn:active { background: #f3f4f6; }
    .back-btn svg { width: 1.25rem; height: 1.25rem; color: #374151; }
    
    .header-title { font-weight: 600; font-size: 1.1rem; }
    
    /* Home View */
    .home-header { padding: 1.5rem 1.25rem 0.75rem; }
    .home-header h1 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem; }
    .home-header p { color: #6b7280; font-size: 0.875rem; }
    
    /* Main Options */
    .main-options {
      padding: 0.5rem 1.25rem 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .option-card {
      width: 100%;
      padding: 1.25rem;
      border-radius: 1rem;
      border: 2px solid;
      text-align: left;
      cursor: pointer;
      transition: transform 0.1s, box-shadow 0.2s;
      background: white;
    }
    
    .option-card:active { transform: scale(0.98); }
    
    .option-card-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.375rem;
    }
    
    .option-icon {
      width: 2.75rem;
      height: 2.75rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .option-icon svg { width: 1.375rem; height: 1.375rem; color: white; }
    .option-label { font-weight: 600; font-size: 1.05rem; }
    .option-desc { font-size: 0.875rem; color: #6b7280; margin-left: 3.5rem; }
    
    /* Option Colors */
    .option-checkin { background: #f0fdf4; border-color: #86efac; }
    .option-checkin .option-icon { background: #22c55e; }
    .option-checkin .option-label { color: #166534; }
    
    .option-understand { background: #eff6ff; border-color: #93c5fd; }
    .option-understand .option-icon { background: #3b82f6; }
    .option-understand .option-label { color: #1e40af; }
    
    /* State Cards */
    .states-header { padding: 1.25rem 1.25rem 0.75rem; font-size: 1.1rem; font-weight: 600; }
    
    .states-grid {
      padding: 0 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 0.625rem;
    }
    
    .state-card {
      width: 100%;
      padding: 1rem;
      border-radius: 1rem;
      border: 2px solid;
      text-align: left;
      cursor: pointer;
      transition: transform 0.1s;
      background: white;
    }
    
    .state-card:active { transform: scale(0.98); }
    
    .state-card-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .state-icon {
      width: 2.25rem;
      height: 2.25rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    .state-icon svg { width: 1.125rem; height: 1.125rem; color: white; }
    .state-label { font-weight: 600; font-size: 0.95rem; }
    .state-desc { font-size: 0.8rem; color: #6b7280; margin-left: 3rem; margin-top: 0.25rem; }
    
    /* State Colors */
    .state-understimulated .state-card { background: #fffbeb; border-color: #fde68a; }
    .state-understimulated .state-icon { background: #f59e0b; }
    .state-understimulated .state-label { color: #b45309; }
    
    .state-overwhelmed .state-card { background: #f8fafc; border-color: #cbd5e1; }
    .state-overwhelmed .state-icon { background: #64748b; }
    .state-overwhelmed .state-label { color: #475569; }
    
    .state-hyperactivated .state-card { background: #fff1f2; border-color: #fecdd3; }
    .state-hyperactivated .state-icon { background: #f43f5e; }
    .state-hyperactivated .state-label { color: #be123c; }
    
    .state-regulated .state-card { background: #ecfdf5; border-color: #a7f3d0; }
    .state-regulated .state-icon { background: #10b981; }
    .state-regulated .state-label { color: #047857; }
    
    /* Sections Grid */
    .sections-header { padding: 1.5rem 1.25rem 0.75rem; font-size: 1.1rem; font-weight: 600; }
    
    .sections-grid {
      padding: 0 1.25rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }
    
    .section-btn {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 0.75rem;
      cursor: pointer;
      text-align: left;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .section-btn:active { background: #f9fafb; }
    .section-btn svg { width: 1.25rem; height: 1.25rem; color: #9ca3af; flex-shrink: 0; }
    .section-btn span { font-weight: 500; color: #374151; font-size: 0.9rem; }
    
    /* Quote */
    .quote-card {
      margin: 1.5rem 1.25rem;
      padding: 1.25rem;
      background: linear-gradient(135deg, #1f2937, #111827);
      border-radius: 1rem;
      color: white;
    }
    
    .quote-card p { font-size: 0.9rem; opacity: 0.9; font-style: italic; line-height: 1.6; }
    .quote-card .author { font-size: 0.75rem; opacity: 0.6; margin-top: 0.5rem; font-style: normal; }
    
    /* Interventions View */
    .need-card {
      margin: 1.25rem;
      padding: 1rem;
      border-radius: 1rem;
      border: 1px solid;
    }
    
    .need-card .label { font-size: 0.875rem; font-weight: 500; color: #6b7280; margin-bottom: 0.25rem; }
    .need-card .text { font-weight: 500; }
    
    .interventions-list {
      padding: 0 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .intervention-card {
      background: white;
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      overflow: hidden;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .intervention-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      cursor: pointer;
    }
    
    .intervention-number {
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.875rem;
      font-weight: 500;
      flex-shrink: 0;
    }
    
    .intervention-title { font-weight: 500; flex: 1; }
    
    .intervention-detail {
      padding: 0 1rem 1rem 3.75rem;
      font-size: 0.875rem;
      color: #6b7280;
      line-height: 1.6;
      display: none;
    }
    
    .intervention-card.expanded .intervention-detail { display: block; }
    
    /* Chevron styling */
    .chevron {
      width: 1.25rem;
      height: 1.25rem;
      color: #9ca3af;
      transition: transform 0.2s;
      flex-shrink: 0;
    }
    
    .intervention-card.expanded .chevron { transform: rotate(180deg); }
    .content-item.expanded .chevron { transform: rotate(180deg); }
    
    .check-again-btn {
      margin: 1.5rem 1.25rem;
      width: calc(100% - 2.5rem);
      padding: 0.875rem;
      background: #f3f4f6;
      border: none;
      border-radius: 0.75rem;
      font-weight: 500;
      color: #374151;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .check-again-btn:active { background: #e5e7eb; }
    
    /* Section View */
    .section-content {
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }
    
    .content-group {
      background: white;
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      overflow: hidden;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .content-group-title {
      font-weight: 600;
      padding: 1rem;
      background: #f9fafb;
      border-bottom: 1px solid #e5e7eb;
      font-size: 0.95rem;
    }
    
    .content-item {
      border-bottom: 1px solid #f3f4f6;
      cursor: pointer;
    }
    
    .content-item:last-child { border-bottom: none; }
    
    .content-item-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.875rem 1rem;
      gap: 0.75rem;
    }
    
    .content-item-heading { font-weight: 500; font-size: 0.9rem; flex: 1; }
    
    .content-item-text {
      padding: 0 1rem 0.875rem;
      font-size: 0.875rem;
      color: #6b7280;
      line-height: 1.6;
      display: none;
    }
    
    .content-item.expanded .content-item-text { display: block; }
    
    /* Info/Prose sections */
    .prose-section {
      padding: 1.25rem;
    }
    
    .prose-card {
      background: white;
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      padding: 1.25rem;
      margin-bottom: 1rem;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .prose-card:last-child { margin-bottom: 0; }
    
    .prose-card h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: #1f2937;
    }
    
    .prose-card p {
      font-size: 0.9rem;
      color: #4b5563;
      line-height: 1.7;
      margin-bottom: 0.75rem;
    }
    
    .prose-card p:last-child { margin-bottom: 0; }
    
    .prose-card strong { color: #1f2937; }
    
    .prose-card ul {
      margin: 0.5rem 0;
      padding-left: 1.25rem;
    }
    
    .prose-card li {
      font-size: 0.9rem;
      color: #4b5563;
      line-height: 1.6;
      margin-bottom: 0.375rem;
    }
    
    .highlight-box {
      background: #fef3c7;
      border: 1px solid #fcd34d;
      border-radius: 0.5rem;
      padding: 1rem;
      margin: 0.75rem 0;
    }
    
    .highlight-box p {
      color: #92400e;
      font-size: 0.875rem;
      margin: 0;
    }
    
    /* Safe area */
    @supports (padding-top: env(safe-area-inset-top)) {
      .header { padding-top: env(safe-area-inset-top); }
      body { padding-bottom: env(safe-area-inset-bottom); }
    }
  </style>
</head>
<body>
  <div class="container" id="app"></div>

  <script>
    const icons = {
      arrowLeft: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>',
      chevronDown: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>',
      brain: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>',
      zap: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>',
      cloudOff: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 2l20 20M5 5a7 7 0 0 0 2.8 11.2M8.8 8.8a4 4 0 0 0 .9 7.2h6.6M19.1 19.1A7 7 0 0 0 18 5a5 5 0 0 0-9-1"/></svg>',
      check: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',
      clock: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',
      heart: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>',
      users: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg>',
      briefcase: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="20" height="14" x="2" y="7" rx="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>',
      sun: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',
      info: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>',
      activity: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>'
    };

    const states = {
      understimulated: {
        id: 'understimulated',
        label: 'Understimulated',
        description: "Bored, restless, seeking, can't settle",
        icon: 'cloudOff',
        need: 'Stimulation — movement, novelty, engagement',
        interventions: [
          { title: 'Add stimulation', detail: 'Music, background noise, coffee shop sounds. Your brain needs MORE input to focus, not less.' },
          { title: 'Shrink the task', detail: 'Not "do the thing" — "open the document and write one sentence." Make starting trivial.' },
          { title: 'Body double', detail: 'Work alongside someone, even virtually. Borrow structure from outside yourself.' },
          { title: 'Change environment', detail: 'Different room, different chair, go outside. Novelty activates attention.' },
          { title: 'Movement first', detail: '5 minutes of physical activity. Walk, stretch, shake. Then try again.' }
        ]
      },
      overwhelmed: {
        id: 'overwhelmed',
        label: 'Overwhelmed',
        description: "Paralysed, shutdown, foggy, can't start",
        icon: 'brain',
        need: 'Discharge — physical release, then containment',
        interventions: [
          { title: 'Physical discharge first', detail: "Cold water on face, intense movement, shake it out. Your body needs to release before your mind can work." },
          { title: 'Reduce inputs', detail: "Close tabs, silence notifications, find quiet. You're overloaded — remove stimulation." },
          { title: 'One thing only', detail: "What's the ONE thing with actual consequences? Do only that. Everything else waits." },
          { title: 'Lower the bar', detail: '"Good enough" is the goal. Excellence is not available right now, and that\'s fine.' },
          { title: 'Tell someone', detail: 'Isolation amplifies the spiral. One text to one person: "I\'m struggling today."' }
        ]
      },
      hyperactivated: {
        id: 'hyperactivated',
        label: 'Hyperactivated',
        description: "Racing, anxious, can't stop, mind spinning",
        icon: 'zap',
        need: 'Grounding — slow breath, body awareness, boundaries',
        interventions: [
          { title: 'Extended exhale breathing', detail: 'Breathe in for 4, out for 8. The long exhale activates your parasympathetic system.' },
          { title: 'Physical grounding', detail: 'Feet on floor. Name 5 things you can see. Feel your hands. Come back to your body.' },
          { title: 'Time anchor', detail: 'Say out loud: "It\'s [time]. I have [X hours] until [next thing]." Time becomes real when spoken.' },
          { title: 'Reality check', detail: "Ask: \"What's actually urgent right now?\" Usually nothing. The urgency is internal, not real." },
          { title: 'Boundaries', detail: "You're allowed to stop. You're allowed to say no. You're allowed to do less." }
        ]
      },
      regulated: {
        id: 'regulated',
        label: 'Regulated',
        description: 'Present, capable, engaged but not frantic',
        icon: 'check',
        need: "Maintenance — don't blow it with overcommitment",
        interventions: [
          { title: 'Use this window wisely', detail: 'This is your deep work time. Complex decisions, creative work, hard conversations — do them now.' },
          { title: "Don't overcommit", detail: "Feeling capable ≠ being capable of everything. Protect this state by not overloading it." },
          { title: 'Note what got you here', detail: 'What did you do today that helped? Sleep, movement, food, environment? Remember it.' },
          { title: 'Batch the hard stuff', detail: 'Admin, emails, difficult tasks — knock them out while you have capacity.' },
          { title: 'Schedule rest', detail: "You'll crash eventually. Plan for it rather than being surprised by it." }
        ]
      }
    };

    const sections = {
      tasks: {
        id: 'tasks', label: 'Tasks', icon: 'clock',
        content: [
          { title: 'Starting (The Hardest Part)', items: [
            { heading: 'Shrink the commitment', text: 'Not "write the report" — "open the document and write one sentence." Your brain rebels against large commitments. Make starting trivial.' },
            { heading: 'Implementation intentions', text: '"When I finish lunch, I will immediately open the spreadsheet." Linking new behaviour to existing triggers bypasses decision fatigue.' },
            { heading: 'Externalise motivation', text: 'Accountability partners, public commitments, coworking. Internal motivation is unreliable; borrow structure from outside.' }
          ]},
          { title: 'Sustaining Focus', items: [
            { heading: 'Timeboxing', text: 'Work in defined blocks: 25 or 45 minutes. Open-ended sessions are focus death. Containers create urgency.' },
            { heading: 'The "boring" workaround', text: "Can you make it novel? Gamify it? Add stakes? You're not lazy — you're understimulated." },
            { heading: 'One tab, one task', text: "Close everything except what you're working on. Every open option is a leak in your attention." }
          ]},
          { title: 'Finishing', items: [
            { heading: 'Define "done" before starting', text: 'Not "work on presentation" — "complete slides 1-5 with speaker notes." Ambiguous endpoints make completion impossible.' },
            { heading: 'Completion rituals', text: 'Physical act to mark finishing: close the laptop, stand up, say "done" out loud. Your brain needs clear signals.' },
            { heading: 'The 90% trap', text: 'ADD brains often stop at "basically done." Build in a final review step. The last 10% is where things fall apart.' }
          ]}
        ]
      },
      emotions: {
        id: 'emotions', label: 'Emotions', icon: 'heart',
        content: [
          { title: 'The ADD Emotional Pattern', items: [
            { heading: 'Fast and intense', text: "Feelings arrive quickly and hit hard. This isn't weakness — it's part of the same dysregulation that affects attention." },
            { heading: 'Rejection sensitivity', text: "Criticism lands disproportionately. You're not overreacting — your nervous system processes it differently." },
            { heading: 'Rumination loops', text: 'Difficulty letting things go. The same thought circling. This is attention dysregulation applied to emotions.' }
          ]},
          { title: 'Working With It', items: [
            { heading: "The feeling isn't the problem", text: 'The avoidance is. Most ADD coping (distraction, busyness) is avoiding feelings. The scatteredness often IS the avoidance.' },
            { heading: 'Tolerate before you regulate', text: 'When a difficult feeling arises, pause. Don\'t fix or distract. Just notice: "I feel anxious." Stay with it for 30 seconds.' },
            { heading: 'Separate feeling from story', text: '"I feel rejected" is a feeling. "They think I\'m incompetent" is a story. You can have the feeling without believing the story.' }
          ]},
          { title: 'On Shame', items: [
            { heading: "It's not earned", text: 'The shame of "I should be able to do this" is inherited, not deserved. You adapted to circumstances.' },
            { heading: 'Address it directly', text: 'Unexamined shame runs your life. Name it. Look at it. Ask: where did this come from?' }
          ]}
        ]
      },
      relationships: {
        id: 'relationships', label: 'Relationships', icon: 'users',
        content: [
          { title: 'Common Patterns', items: [
            { heading: 'Interrupting', text: 'Impulse control failure. Try: physical anchor — hold an object, press fingers together when the urge arises.' },
            { heading: 'Forgetting commitments', text: 'Time blindness + out of sight = out of mind. Use shared calendars, immediate capture, repeat back what was agreed.' },
            { heading: 'Emotional reactivity', text: 'Feels like overreaction to others. Try: "Let me think about that and come back to you." Build in time delays.' },
            { heading: 'Inconsistent presence', text: 'Hyperfocus elsewhere. Schedule protected time for relationships. Devices physically away.' }
          ]},
          { title: 'How to Explain It', items: [
            { heading: 'A script that works', text: '"My brain works differently in ways that affect [specific behaviour]. It\'s not that I don\'t care. Here\'s what I\'m doing to manage it: [strategy]. Here\'s what would help from you: [request]."' },
            { heading: "Don't over-apologise", text: "Don't use ADD as an excuse. Do be specific and solutions-oriented. Take responsibility without taking blame." }
          ]}
        ]
      },
      work: {
        id: 'work', label: 'Work', icon: 'briefcase',
        content: [
          { title: 'Meeting Your Limitations', items: [
            { heading: 'Time estimation is broken', text: 'Build in buffers. Never promise tight turnarounds. Add 50% to every estimate as default.' },
            { heading: 'Sustained admin is impossible', text: "Batch it, outsource it, or automate it. Don't pretend you'll do it consistently." },
            { heading: 'Open-plan destroys you', text: 'Noise-cancelling headphones, remote work when possible, find private space.' },
            { heading: 'Email becomes a graveyard', text: 'Time-blocked processing (twice daily), not reactive checking.' }
          ]},
          { title: 'Playing to Strengths', items: [
            { heading: 'Crisis response', text: "High stimulation = engagement. You're good in emergencies." },
            { heading: 'Novel problem-solving', text: 'You see connections others miss. Non-linear thinking is an asset.' },
            { heading: 'Hyperfocus bursts', text: 'When aligned with interest, you can outwork anyone. Unsustainable but powerful.' },
            { heading: 'Stop trying to be consistent', text: "You're not going to become a steady plodder. Design your role around what you're actually good at." }
          ]},
          { title: 'Energy Management', items: [
            { heading: 'Your capacity is variable', text: "Not constant. Track when you're sharp, when you crash. Build your schedule around this." },
            { heading: 'High-energy windows', text: 'Deep work, complex decisions, creative work. Protect these times aggressively.' },
            { heading: 'Low-energy windows', text: "Admin, email, routine tasks. Don't waste good hours on these." }
          ]}
        ]
      },
      routines: {
        id: 'routines', label: 'Routines', icon: 'sun',
        content: [
          { title: 'Morning Non-Negotiables', items: [
            { heading: 'No phone first 30-60 mins', text: "Protect your attentional state before it's hijacked. This is the highest-leverage habit." },
            { heading: 'Physical activation', text: 'Movement wakes up the prefrontal cortex. Even 10 minutes.' },
            { heading: 'Review the day', text: 'What are the 1-3 things that actually matter today? Not a list. Priorities.' },
            { heading: 'Eat protein', text: 'Stabilises blood sugar, supports dopamine production. Not optional.' }
          ]},
          { title: 'Evening Wind-Down', items: [
            { heading: 'Hard stop on work', text: 'Defined time, not "when I\'m done." You\'ll never feel done.' },
            { heading: 'Brain dump', text: 'Write down anything still spinning. Get it out of your head and onto paper.' },
            { heading: 'Reduce stimulation', text: 'Screens down, lights low. Your nervous system needs the signal.' },
            { heading: 'Same sleep time', text: 'Irregular sleep worsens everything. Protect this ruthlessly.' }
          ]},
          { title: 'Weekly Rhythm', items: [
            { heading: 'Weekly review', text: "What worked? What didn't? Adjust systems. 30 minutes, same time each week." },
            { heading: 'Plan the week', text: 'Not a detailed schedule. Key priorities identified. Buffer space left.' },
            { heading: 'One "off" period', text: 'Time with no obligations, no productivity pressure. This is not optional.' }
          ]}
        ]
      }
    };

    let currentView = 'home';
    let selectedState = null;
    let selectedSection = null;

    function render() {
      const app = document.getElementById('app');
      if (currentView === 'home') app.innerHTML = renderHome();
      else if (currentView === 'checkin') app.innerHTML = renderCheckin();
      else if (currentView === 'interventions') app.innerHTML = renderInterventions();
      else if (currentView === 'section') app.innerHTML = renderSection();
      else if (currentView === 'understand') app.innerHTML = renderUnderstand();
      attachEventListeners();
      window.scrollTo(0, 0);
    }

    function renderHome() {
      return `
        <div class="home-header">
          <h1>ADD Companion</h1>
          <p>Based on Gabor Maté's Scattered Minds</p>
        </div>
        <div class="main-options">
          <div class="option-card option-checkin" data-action="checkin">
            <div class="option-card-header">
              <div class="option-icon">${icons.activity}</div>
              <span class="option-label">I need help now</span>
            </div>
            <p class="option-desc">Check in with how you're feeling and get practical support</p>
          </div>
          <div class="option-card option-understand" data-action="understand">
            <div class="option-card-header">
              <div class="option-icon">${icons.info}</div>
              <span class="option-label">Understanding ADD</span>
            </div>
            <p class="option-desc">What it is, where it comes from, and why this approach works</p>
          </div>
        </div>
        <h2 class="sections-header">Go deeper</h2>
        <div class="sections-grid">
          ${Object.values(sections).map(s => `
            <button class="section-btn" data-section="${s.id}">
              ${icons[s.icon]}
              <span>${s.label}</span>
            </button>
          `).join('')}
        </div>
        <div class="quote-card">
          <p>"The greatest gift you can give yourself is to understand yourself without judgment."</p>
          <p class="author">— Gabor Maté</p>
        </div>
      `;
    }

    function renderCheckin() {
      return `
        <div class="header">
          <div class="header-inner">
            <button class="back-btn" data-action="home">${icons.arrowLeft}</button>
            <h1 class="header-title">How are you right now?</h1>
          </div>
        </div>
        <div class="states-grid" style="padding-top: 1.25rem;">
          ${Object.values(states).map(state => `
            <div class="state-${state.id}" data-state="${state.id}">
              <div class="state-card">
                <div class="state-card-header">
                  <div class="state-icon">${icons[state.icon]}</div>
                  <span class="state-label">${state.label}</span>
                </div>
                <p class="state-desc">${state.description}</p>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    function renderInterventions() {
      const state = states[selectedState];
      const colors = {
        understimulated: { bg: '#fffbeb', border: '#fde68a', text: '#b45309', accent: '#f59e0b' },
        overwhelmed: { bg: '#f8fafc', border: '#cbd5e1', text: '#475569', accent: '#64748b' },
        hyperactivated: { bg: '#fff1f2', border: '#fecdd3', text: '#be123c', accent: '#f43f5e' },
        regulated: { bg: '#ecfdf5', border: '#a7f3d0', text: '#047857', accent: '#10b981' }
      }[selectedState];
      
      return `
        <div class="header">
          <div class="header-inner">
            <button class="back-btn" data-action="checkin">${icons.arrowLeft}</button>
            <h1 class="header-title">${state.label}</h1>
          </div>
        </div>
        <div class="need-card" style="background:${colors.bg};border-color:${colors.border};">
          <p class="label">What you need:</p>
          <p class="text" style="color:${colors.text};">${state.need}</p>
        </div>
        <div class="interventions-list">
          ${state.interventions.map((int, i) => `
            <div class="intervention-card ${i===0?'expanded':''}" data-intervention="${i}">
              <div class="intervention-header">
                <div class="intervention-number" style="background:${colors.accent};">${i+1}</div>
                <span class="intervention-title">${int.title}</span>
                <span class="chevron">${icons.chevronDown}</span>
              </div>
              <div class="intervention-detail">${int.detail}</div>
            </div>
          `).join('')}
        </div>
        <button class="check-again-btn" data-action="checkin">Check in again</button>
      `;
    }

    function renderSection() {
      const section = sections[selectedSection];
      return `
        <div class="header">
          <div class="header-inner">
            <button class="back-btn" data-action="home">${icons.arrowLeft}</button>
            <h1 class="header-title">${section.label}</h1>
          </div>
        </div>
        <div class="section-content">
          ${section.content.map(group => `
            <div class="content-group">
              <h3 class="content-group-title">${group.title}</h3>
              ${group.items.map((item, i) => `
                <div class="content-item" data-item="${i}">
                  <div class="content-item-header">
                    <span class="content-item-heading">${item.heading}</span>
                    <span class="chevron">${icons.chevronDown}</span>
                  </div>
                  <div class="content-item-text">${item.text}</div>
                </div>
              `).join('')}
            </div>
          `).join('')}
        </div>
      `;
    }

    function renderUnderstand() {
      return `
        <div class="header">
          <div class="header-inner">
            <button class="back-btn" data-action="home">${icons.arrowLeft}</button>
            <h1 class="header-title">Understanding ADD</h1>
          </div>
        </div>
        <div class="prose-section">
          <div class="prose-card">
            <h3>What ADD Actually Is</h3>
            <p>ADD is <strong>not</strong> a character flaw, laziness, or lack of intelligence. It's a <strong>developmental adaptation</strong> — your brain organised itself around early environmental conditions (stress, attunement gaps, chaos) in ways that made sense at the time.</p>
            <p>The core issue isn't attention. It's <strong>self-regulation</strong>. Your nervous system struggles to:</p>
            <ul>
              <li>Maintain optimal arousal (you're either understimulated or overwhelmed)</li>
              <li>Filter stimuli (everything feels equally urgent)</li>
              <li>Tolerate uncomfortable internal states (boredom, anxiety, emptiness)</li>
            </ul>
            <div class="highlight-box">
              <p><strong>Why this matters:</strong> If you think ADD is a willpower problem, you'll try to force yourself through it and fail. If you understand it as a regulation problem, you can design around it.</p>
            </div>
          </div>

          <div class="prose-card">
            <h3>Where It Comes From</h3>
            <p>Maté's view: ADD develops in the context of early relationships. It's not purely genetic — it emerges when a child's environment doesn't provide the consistent, attuned presence needed for the brain to develop robust self-regulation.</p>
            <p>This isn't about blame. Parents were doing their best with their own circumstances. But understanding the origin helps you see that <strong>you adapted to survive</strong>, and those adaptations are still running.</p>
          </div>

          <div class="prose-card">
            <h3>The Four Core Struggles</h3>
            <p><strong>1. Attention Dysregulation</strong><br>
            Not a deficit — a dysregulation. You can hyperfocus for hours on the right thing; you can't direct attention voluntarily to the "wrong" thing. Your reward system needs higher stimulation to engage.</p>
            <p><strong>2. Impulse Control</strong><br>
            The gap between stimulus and response is too short. You act before the executive brain has time to weigh in. The prefrontal cortex is underactive relative to the limbic system.</p>
            <p><strong>3. Restlessness</strong><br>
            Physical (can't sit still) or mental (racing thoughts). Your nervous system is seeking stimulation to reach baseline. Stillness feels like deprivation.</p>
            <p><strong>4. Emotional Sensitivity</strong><br>
            Often overlooked. Intense emotional responses, rejection sensitivity, difficulty letting things go. The same dysregulation that affects attention affects emotional processing.</p>
          </div>

          <div class="prose-card">
            <h3>What ADD Is Good For</h3>
            <p>Your brain isn't broken — it's different. ADD often comes with genuine strengths:</p>
            <ul>
              <li><strong>Crisis response:</strong> High stimulation = engagement. You're good when things are urgent.</li>
              <li><strong>Novel problem-solving:</strong> You see connections others miss. Non-linear thinking is an asset.</li>
              <li><strong>Hyperfocus:</strong> When aligned with interest, you can outwork anyone.</li>
              <li><strong>Energy and enthusiasm:</strong> When you're engaged, you bring intensity others can't match.</li>
            </ul>
            <p>The goal isn't to eliminate these traits — it's to <strong>channel them</strong> and manage the downsides.</p>
          </div>

          <div class="prose-card">
            <h3>What About Medication?</h3>
            <p>Medication can help. It adjusts dopamine and norepinephrine levels, making it easier to engage with low-stimulation tasks and improving impulse control.</p>
            <p><strong>What medication does:</strong></p>
            <ul>
              <li>Raises baseline arousal so you need less external stimulation</li>
              <li>Improves working memory and focus</li>
              <li>Reduces impulsivity</li>
            </ul>
            <p><strong>What medication doesn't do:</strong></p>
            <ul>
              <li>Teach you skills you never developed</li>
              <li>Change ingrained habits and coping mechanisms</li>
              <li>Address the emotional patterns (shame, avoidance, sensitivity)</li>
              <li>Design your environment and systems for you</li>
            </ul>
            <div class="highlight-box">
              <p>Medication can make it <em>easier</em> to do the work — but the work still has to be done. That's what this approach is about.</p>
            </div>
          </div>

          <div class="prose-card">
            <h3>Why This Approach</h3>
            <p>This isn't about forcing yourself to be "normal." It's about understanding your nervous system and working <strong>with</strong> it rather than against it.</p>
            <p>The framework here is practical:</p>
            <ul>
              <li><strong>Recognise your state</strong> — know whether you're understimulated, overwhelmed, or hyperactivated</li>
              <li><strong>Intervene appropriately</strong> — different states need different responses</li>
              <li><strong>Design your environment</strong> — stop relying on willpower; build systems</li>
              <li><strong>Address the emotional layer</strong> — the shame, the avoidance, the sensitivity</li>
            </ul>
            <p>The goal isn't to become neurotypical. The goal is to become <strong>functional, fulfilled, and at peace with who you actually are.</strong></p>
          </div>
        </div>
      `;
    }

    function attachEventListeners() {
      document.querySelectorAll('[data-action="checkin"]').forEach(el => {
        el.addEventListener('click', () => { currentView = 'checkin'; render(); });
      });
      document.querySelectorAll('[data-action="understand"]').forEach(el => {
        el.addEventListener('click', () => { currentView = 'understand'; render(); });
      });
      document.querySelectorAll('[data-action="home"]').forEach(el => {
        el.addEventListener('click', () => { currentView = 'home'; selectedState = null; selectedSection = null; render(); });
      });
      document.querySelectorAll('[data-state]').forEach(el => {
        el.addEventListener('click', () => { selectedState = el.dataset.state; currentView = 'interventions'; render(); });
      });
      document.querySelectorAll('[data-section]').forEach(el => {
        el.addEventListener('click', () => { selectedSection = el.dataset.section; currentView = 'section'; render(); });
      });
      document.querySelectorAll('[data-intervention]').forEach(el => {
        el.querySelector('.intervention-header').addEventListener('click', () => { el.classList.toggle('expanded'); });
      });
      document.querySelectorAll('.content-item').forEach(el => {
        el.addEventListener('click', () => { el.classList.toggle('expanded'); });
      });
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('data:text/javascript,' + encodeURIComponent(`
        self.addEventListener('install', e => self.skipWaiting());
        self.addEventListener('activate', e => e.waitUntil(clients.claim()));
      `)).catch(() => {});
    }

    render();
  </script>
</body>
</html>
